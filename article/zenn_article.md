# GCPの最新AI×クラウドで切り開く次世代AIエージェント開発：目標達成特化型AIエージェント「Task Trail」

---

## 概要

本記事では、Google が提供する最新の AI およびコンピューティング基盤を活用して構築したAIエージェントプロジェクトの開発背景・技術的ポイント、実装上の工夫や課題、そして今後の展望について紹介します。筆者が参加した「AI Agent Hackathon with Google Cloud」を通して得られた知見や、開発した**目標達成特化型AIエージェント「Task Trail」** を解説します。

---

## はじめに

近年、ChatGPTやClaude、Geminiをはじめとする「生成AI」が注目を集めていますが、さらに一歩進んで「AI エージェント」というコンセプトが広がりつつあります。これは、自然言語を理解し、ユーザーからの多様なリクエストを柔軟に処理できるだけでなく、外部サービスと連携してタスクを実行できるAIを備えた仕組みです。

今回参加した**AI Agent Hackathon with Google Cloud**では、Google Cloud が提供する最新技術のハンズオンやサポートを受けながら、短期間で AI エージェントを形にすることが目標でした。実際に以下のサービスを主に利用しながら、クラウド上でエージェントを開発しました。

本記事では、その参加背景と実際に取り組んだプロジェクトの概要、そして実装過程と学んだポイントを紹介します。

---

## プロジェクト概要

### 対象ユーザー像と課題

- 英語学習や資格取得など、学習計画の管理やモチベーション維持が課題となっている人
- 企業の研修担当者など、組織内で目標管理やタスク管理がなかなかできない人

### 課題へのソリューション

学習計画の管理やモチベーション維持や、組織内で目標管理やタスク管理がなかなかできないといった課題に対して、本システムのAIエージェントがサポートすることで解決します。
具体的には、画面で目標や仕事のプロジェクトを登録し、その進捗管理や必要なタスクの提案を AI エージェントが行います。たとえば「2025/2/11 までに TOEIC900点取得を目指したい」という要望を入力すると、学習計画や具体的な学習タスクの作成を自動でしてくれます。タスクはGoogleカレンダーに登録され、Googleカレンダーを見ながらタスクをこなしていくことができます。また、進捗によってはタスクの調整や変更もできるため、無理なく目標達成できます。


### 特徴

このAIエージェントは従来のChatGPTやGemini、Claudeのようなユーザーと対話するAIに加え、Googleカレンダーを使った目標達成のためのタスクを可視化し、進捗に従って柔軟にタスク調整してGoogleカレンダーに修正登録できることが最大の特徴となっています。

### デモ動画


---

## 技術的アーキテクチャと実装の詳細

### システム構成

以下が本プロジェクトのシステム構成図です。

![システム構成図](./images/system_configuration_chart.png)

- **Flutter**: フロントエンド（UI）
- **Firebase Authentication**: ユーザー認証を管理
- **Docker / Docker Compose**: バックエンド環境のコンテナ化
- **Cloud Run**: バックエンドコンテナをホスト
- **Vertex AI API (Gemini 1.5 Flash)**: 高度な言語モデルを活用
- **LLamaIndex on Vertex AI for RAG**: RAG（Retrieval-Augmented Generation）を実装
- **Cloud Firestore API**: データやメタデータの保管
- **Google カレンダー API**: 予定表連携
- **EventArc**: GCP 内の非同期イベント駆動を実装
- **Python 3.11+**: バックエンドランタイム

### バックエンド実装とクラウド連携

- **Docker / Docker Compose** でアプリケーションをコンテナ化し、**Cloud Run** にデプロイ。
- **Vertex AI API (Gemini 1.5 Flash)（※内容は暫定）** に問い合わせて学習計画の提案を生成。LLamaIndex を組み合わせることで、ユーザー固有のデータを取り込んだ RAG（Retrieval-Augmented Generation）を実装。
- **Firestore** や **Google カレンダー API** は必要な情報を保管・読み書きし、ユーザーの学習計画やスケジュールを管理。
- **Firebase Authentication** で認証処理を行い、認可されたユーザーのみが学習目標やタスクを登録・管理できるように設定。
- **EventArc** により、ユーザーの操作やイベントに応じてバックエンドが自動的にタスク更新や通知処理を行えるように。（**※内容は暫定。** EventArcはFirestoreへの書き込みをトリガーに動作するが、それがこのシステムにとって実際にどのようなメリットをもたらすかが近江ではわからない。）

### フロントエンド（Flutter）

- **Flutter** を使うことでWebとモバイルへ対応した。
- ユーザーが学習目標やタスクを登録すると、リクエストが Firestore経由でCloud Runに送信され、AI エージェントを呼び出してプランやアドバイスを受け取る。

---

## 実装中の課題と解決策（※内容は暫定）

1. **AI 推論の処理負荷とコスト管理**

- Vertex AI API への呼び出しが増えるほどコストが上がる可能性がある。
- **対応**: 推論結果の一部をキャッシュし、頻出の問い合わせには再利用。

2. **権限管理の複雑化**

- Firestore や カレンダー API など、複数 API を扱うため IAM 設計が重要。
- **対応**: サービスアカウントを用途ごとに分割し、必要最小限の権限を付与。

3. **RAG（Retrieval-Augmented Generation）の品質向上**

- LLamaIndex で外部データを取り込みつつ、誤情報を減らす。
- **対応**: Document Store への格納データを定期的に見直し、モデルへのプロンプト設計を最適化。

---

## ハッカソン参加の感想と学び（※内容は暫定）

- **短期間での開発プロセス**: ハンズオンやプレゼンを経て、最小限の MVP を素早く構築。
- **Google Cloud の支援体制**: チュートリアルやドキュメントが充実しており、初めてのサービスもキャッチアップしやすかった。
- **チームビルディングとコラボレーション**: Flutter の知見があるメンバーと、バックエンドに知見のあるメンバー、AI モデルに強いメンバーが協業しスムーズに分担できた。

---

## まとめと今後の展望

今回のハッカソンでは、Docker / Docker Composeを使ったコンテナ化や、Cloud Runによるスケーラブルなデプロイ、Vertex AI API (Gemini 1.5 Flash) を活用した高精度の学習計画提案など、多彩なクラウド技術を組み合わせることで、短期間ながら次世代 AI エージェントのプロトタイプを構築できました。

### 今後の発展アイデア（※内容は暫定）

1. **マルチタスク対応**: 複数目標を並行管理し、優先度を考慮した提案機能の強化。
2. **外部サービス連携**: Google カレンダー以外のコラボレーションツールとの連動。
3. **コミュニティ機能**: 学習仲間との進捗共有や、目標達成を促す仕掛けづくり。

今後はこのようにTask Trailを発展させ、よりユーザーの目標達成にコミットできるAIエージェントを作り込んでいきたいと思います。
